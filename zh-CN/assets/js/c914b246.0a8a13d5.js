"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["63512"],{237118:function(n,e,s){s.r(e),s.d(e,{default:()=>u,frontMatter:()=>l,metadata:()=>t,assets:()=>d,toc:()=>a,contentTitle:()=>c});var t=JSON.parse('{"id":"sql-manual/sql-functions/scalar-functions/string-functions/make-set","title":"MAKE_SET","description":"\u63CF\u8FF0","source":"@site/i18n/zh-CN/docusaurus-plugin-content-docs/current/sql-manual/sql-functions/scalar-functions/string-functions/make-set.md","sourceDirName":"sql-manual/sql-functions/scalar-functions/string-functions","slug":"/sql-manual/sql-functions/scalar-functions/string-functions/make-set","permalink":"/zh-CN/docs/dev/sql-manual/sql-functions/scalar-functions/string-functions/make-set","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"MAKE_SET","language":"zh-CN"},"sidebar":"docs","previous":{"title":"LTRIM_IN","permalink":"/zh-CN/docs/dev/sql-manual/sql-functions/scalar-functions/string-functions/ltrim-in"},"next":{"title":"MASK","permalink":"/zh-CN/docs/dev/sql-manual/sql-functions/scalar-functions/string-functions/mask"}}'),i=s("785893"),r=s("250065");let l={title:"MAKE_SET",language:"zh-CN"},c=void 0,d={},a=[{value:"\u63CF\u8FF0",id:"\u63CF\u8FF0",level:2},{value:"\u8BED\u6CD5",id:"\u8BED\u6CD5",level:2},{value:"\u53C2\u6570",id:"\u53C2\u6570",level:2},{value:"\u8FD4\u56DE\u503C",id:"\u8FD4\u56DE\u503C",level:2},{value:"\u4E3E\u4F8B",id:"\u4E3E\u4F8B",level:2}];function o(n){let e={a:"a",code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.a)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.h2,{id:"\u63CF\u8FF0",children:"\u63CF\u8FF0"}),"\n",(0,i.jsxs)(e.p,{children:["MAKE_SET \u8FD4\u56DE\u4E00\u4E2A\u5B57\u7B26\u4E32\u96C6\u5408\uFF0C\u5176\u4E2D\u5B57\u7B26\u4E32\u95F4\u4EE5 ",(0,i.jsx)(e.code,{children:","})," \u5206\u9694\u3002\n\u8BE5\u96C6\u5408\u7531\u5728 ",(0,i.jsx)(e.code,{children:"bit"})," \u4E2D\u5BF9\u5E94\u4F4D\u4E3A 1 \u7684\u5B57\u7B26\u4E32\u7EC4\u6210\uFF1Astr1 \u5BF9\u5E94\u4F4D0\uFF0C str2 \u5BF9\u5E94\u4F4D1\uFF0C\u4EE5\u6B64\u7C7B\u63A8\u3002str \u4E2D\u7684 NULL \u503C\u4E0D\u53C2\u4E0E\u96C6\u5408\u7684\u7EC4\u6210\u3002"]}),"\n",(0,i.jsxs)(e.p,{children:["\u884C\u4E3A\u4E0E Mysql \u4E2D\u7684 ",(0,i.jsx)(e.a,{href:"https://dev.mysql.com/doc/refman/8.4/en/string-functions.html#function_make-set",children:"MAKE_SET"})," \u4E00\u81F4"]}),"\n",(0,i.jsx)(e.h2,{id:"\u8BED\u6CD5",children:"\u8BED\u6CD5"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-sql",children:"MAKE_SET(<bit>, <str1>, <str2>...)\n"})}),"\n",(0,i.jsx)(e.h2,{id:"\u53C2\u6570",children:"\u53C2\u6570"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"\u53C2\u6570"}),(0,i.jsx)(e.th,{children:"\u8BF4\u660E"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"<bit>"})}),(0,i.jsx)(e.td,{children:"\u63D0\u4F9B\u7684\u6574\u578B bit \u503C\uFF0C\u4EE3\u8868\u8981\u7EC4\u5408\u5B57\u7B26\u4E32\u7684\u5BF9\u5E94\u4F4D\u7F6E\uFF0C\u5927\u5C0F\u9650\u5236\u4E3A2^64 ~ 2^64-1(BIGINT)"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"<strs>"})}),(0,i.jsx)(e.td,{children:"\u5F85\u7EC4\u5408\u7684\u5B57\u7B26\u4E32"})]})]})]}),"\n",(0,i.jsx)(e.h2,{id:"\u8FD4\u56DE\u503C",children:"\u8FD4\u56DE\u503C"}),"\n",(0,i.jsxs)(e.p,{children:["\u8FD4\u56DE\u4E00\u4E2A\u5B57\u7B26\u4E32\u7C7B\u578B\uFF0C\u5176\u662F\u7531 bit \u4E2D\u5BF9\u5E94\u4F4D\u4E3A 1 \u7684\u5B57\u7B26\u4E32\u96C6\u5408\uFF0C\u6784\u6210\u96C6\u5408\u7684\u5404\u5B57\u7B26\u4E32\u4E4B\u95F4\u4EE5",(0,i.jsx)(e.code,{children:","}),"\u5206\u9694\u3002"]}),"\n",(0,i.jsx)(e.p,{children:"\u5982\u679C\u51FD\u6570\u4E2D bit \u4E3A 1 \u4F4D\u7F6E\u6240\u4EE3\u8868\u7684 str \u4E3A NULL \u6216\u4E0D\u5B58\u5728\uFF0C\u5219\u8DF3\u8FC7\u8BE5\u4F4D\u7F6E\u3002"}),"\n",(0,i.jsx)(e.p,{children:"\u5F53 bit \u4E3A NULL \u65F6\u8FD4\u56DE NULL\u3002"}),"\n",(0,i.jsx)(e.h2,{id:"\u4E3E\u4F8B",children:"\u4E3E\u4F8B"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-sql",children:"CREATE TABLE test_make_set (\n	id int,\n    bit_num BIGINT,\n    vc1 VARCHAR(50),\n    vc2 VARCHAR(50),\n    vc3 VARCHAR(50)\n)\nDUPLICATE KEY(id)\nDISTRIBUTED BY HASH(id) BUCKETS 1\nPROPERTIES ( 'replication_num' = '1' );\n\nINSERT INTO test_make_set (id, bit_num, vc1, vc2, vc3) VALUES\n(1, 1, 'apple', 'orange', NULL),\n(2, 2, 'red', 'blue', NULL),\n(3, 3, 'dog', 'cat', 'bird'),\n(4, 4, 'small', 'medium', 'large'),\n(5, 5, NULL, 'warm', 'hot'),\n(6, 6, 'monday', 'tuesday', 'wednesday'),\n(7, 7, 'one', 'two', 'three'),\n(8, 0, 'hello', 'world', NULL),\n(9, -2, 'test1', 'test2', 'test3'),\n(10, -3, '\u6C7D\u8F66', '\u81EA\u884C\u8F66', '\u706B\u8F66'),\n(11, NULL, 'a', 'b', 'c'),\n(12, 7, NULL, NULL, NULL),\n(13, 3, '', 'should after ,', 'useless');\n"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-sql",children:"SELECT id, MAKE_SET(bit_num, vc1, vc2, vc3)  FROM test_make_set;\n"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-text",children:"+------+----------------------------------+\n| id   | MAKE_SET(bit_num, vc1, vc2, vc3) |\n+------+----------------------------------+\n|    1 | apple                            |\n|    2 | blue                             |\n|    3 | dog,cat                          |\n|    4 | large                            |\n|    5 | hot                              |\n|    6 | tuesday,wednesday                |\n|    7 | one,two,three                    |\n|    8 |                                  |\n|    9 | test2,test3                      |\n|   10 | \u6C7D\u8F66,\u706B\u8F66                        |\n|   11 | NULL                             |\n|   12 |                                  |\n|   13 | ,should after ,                  |\n+------+----------------------------------+\n"})}),"\n",(0,i.jsx)(e.p,{children:"\u89E3\u91CA\uFF1A"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:["id == 3\u65F6\uFF0C\u5176 bit_num == 3, \u4E8C\u8FDB\u5236\u4E0B\u8868\u793A\u4E3A 011, \u5176\u4E2D\u7B2C0\u4F4D\u548C\u7B2C1\u4F4D\u4E3A 1\uFF0C\u5206\u522B\u4EE3\u8868\u53C2\u6570\u4E2D\u7684 str1 \u548C str2\uFF0C\u5219\u53D6 str1 \u548C str2 \u6784\u9020\u6700\u7EC8\u7ED3\u679C\uFF0C\u4E14 str1 \u4E0E str2 \u4E4B\u95F4\u7528 ",(0,i.jsx)(e.code,{children:","})," \u5206\u9694\uFF0C\u6545\u6700\u7EC8\u7B54\u6848\u53EF\u8868\u793A\u4E3A ",(0,i.jsx)(e.code,{children:"${str1},${str2}"}),", \u5373",(0,i.jsx)(e.code,{children:"dog,cat"}),"\u3002"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:["id == 5\u65F6\uFF0C\u5176 bit_num == 5, \u4E8C\u8FDB\u5236\u4E0B\u8868\u793A\u4E3A101, \u5176\u4E2D\u7B2C0\u4F4D\u548C\u7B2C2\u4F4D\u4E3A 1\uFF0C\u5206\u522B\u4EE3\u8868\u53C2\u6570\u4E2D\u7684 str1 \u548C str3, \u5176\u4E2D str1 \u4E3A NULL\uFF0C\u4E0D\u53C2\u4E0E\u6700\u7EC8\u7ED3\u679C\u7684\u6784\u9020\uFF0C\u6545\u6700\u7EC8\u7ED3\u679C\u53EF\u8868\u793A\u4E3A ",(0,i.jsx)(e.code,{children:"${str3}"}),", \u5373",(0,i.jsx)(e.code,{children:"hot"}),"\u3002"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:["id == 13\u65F6\uFF0C\u5176bit_num == 3, \u4E8C\u8FDB\u5236\u4E0B\u8868\u793A\u4E3A 011\uFF0C\u6545\u53D6 str1 \u548C str2 \u6784\u9020\u6700\u7EC8\u7ED3\u679C\uFF0C\u5176\u8868\u793A\u4E3A",(0,i.jsx)(e.code,{children:"${str1},${str2}"}),", \u5176\u4E2D str1 \u4E3A\u7A7A\u5B57\u7B26\u4E32\uFF0C\u6545\u6700\u7EC8\u7ED3\u679C\u53EF\u7B80\u5316\u4E3A",(0,i.jsx)(e.code,{children:",${str2}"}),", \u5373",(0,i.jsx)(e.code,{children:",should after ,"}),"\u3002"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.code,{children:"bit"})," \u53C2\u6570\u8303\u56F4\u7EA6\u675F\u4E3A2^64 ~ 2^64-1(BIGINT)\u7684\u6574\u6570\uFF0C\u8D8A\u754C\u884C\u4E3A\u62A5\u9519\u5982\u4E0B\uFF1A"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-text",children:"mysql> SELECT MAKE_SET(184467440737095516156, 'a', 'b', 'c');\nERROR 1105 (HY000): errCode = 2, detailMessage = Can not find the compatibility function signature: make_set(LARGEINT, VARCHAR(1), VARCHAR(1), VARCHAR(1))\n"})})]})}function u(n={}){let{wrapper:e}={...(0,r.a)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(o,{...n})}):o(n)}},250065:function(n,e,s){s.d(e,{Z:function(){return c},a:function(){return l}});var t=s(667294);let i={},r=t.createContext(i);function l(n){let e=t.useContext(r);return t.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:l(n.components),t.createElement(r.Provider,{value:e},n.children)}}}]);
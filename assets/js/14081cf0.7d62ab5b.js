"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["194418"],{652290:function(e,n,t){t.r(n),t.d(n,{default:()=>h,frontMatter:()=>a,metadata:()=>s,assets:()=>l,toc:()=>d,contentTitle:()=>c});var s=JSON.parse('{"id":"sql-manual/sql-functions/scalar-functions/string-functions/make-set","title":"MAKE_SET","description":"Description","source":"@site/docs/sql-manual/sql-functions/scalar-functions/string-functions/make-set.md","sourceDirName":"sql-manual/sql-functions/scalar-functions/string-functions","slug":"/sql-manual/sql-functions/scalar-functions/string-functions/make-set","permalink":"/docs/dev/sql-manual/sql-functions/scalar-functions/string-functions/make-set","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"MAKE_SET","language":"en"},"sidebar":"docs","previous":{"title":"LTRIM_IN","permalink":"/docs/dev/sql-manual/sql-functions/scalar-functions/string-functions/ltrim-in"},"next":{"title":"MASK","permalink":"/docs/dev/sql-manual/sql-functions/scalar-functions/string-functions/mask"}}'),i=t("785893"),r=t("250065");let a={title:"MAKE_SET",language:"en"},c=void 0,l={},d=[{value:"Description",id:"description",level:2},{value:"Syntax",id:"syntax",level:2},{value:"Arguments",id:"arguments",level:2},{value:"Return Value",id:"return-value",level:2},{value:"Example",id:"example",level:2}];function o(e){let n={a:"a",code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"description",children:"Description"}),"\n",(0,i.jsxs)(n.p,{children:["MAKE_SET returns a comma-separated set of strings.\nThe set is composed of the strings whose corresponding bits in ",(0,i.jsx)(n.code,{children:"bit"})," are 1: str1 corresponds to bit 0, str2 to bit 1, and so on. NULL values in the strs are not included in the set."]}),"\n",(0,i.jsxs)(n.p,{children:["Aligns with the behavior of ",(0,i.jsx)(n.a,{href:"https://dev.mysql.com/doc/refman/8.4/en/string-functions.html#function-make-set",children:"MAKE_SET"})," in MySQL."]}),"\n",(0,i.jsx)(n.h2,{id:"syntax",children:"Syntax"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"MAKE_SET(<bit>, <str1>, <str2>...)\n"})}),"\n",(0,i.jsx)(n.h2,{id:"arguments",children:"Arguments"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Argument"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"<bit>"})}),(0,i.jsx)(n.td,{children:"The provided integer bit value, indicating which positions' strings to include. Size limit: 2^64 ~ 2^64-1(BIGINT)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"<strs>"})}),(0,i.jsx)(n.td,{children:"The strings to be combined"})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"return-value",children:"Return Value"}),"\n",(0,i.jsx)(n.p,{children:"Return a string type, which is a collection of strings formed by the bits where the corresponding bit is 1, and the strings in the collection are separated by ','."}),"\n",(0,i.jsx)(n.p,{children:"If a str corresponding to a bit set to 1 is NULL or does not exist, that position is skipped."}),"\n",(0,i.jsxs)(n.p,{children:["Returns NULL when ",(0,i.jsx)(n.code,{children:"bit"})," is NULL."]}),"\n",(0,i.jsx)(n.h2,{id:"example",children:"Example"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"CREATE TABLE test_make_set (\n    id int,\n    bit_num BIGINT,\n    vc1 VARCHAR(50),\n    vc2 VARCHAR(50),\n    vc3 VARCHAR(50)\n)\nDUPLICATE KEY(id)\nDISTRIBUTED BY HASH(id) BUCKETS 1\nPROPERTIES ( 'replication_num' = '1' );\n\nINSERT INTO test_make_set (id, bit_num, vc1, vc2, vc3) VALUES\n(1, 1, 'apple', 'orange', NULL),\n(2, 2, 'red', 'blue', NULL),\n(3, 3, 'dog', 'cat', 'bird'),\n(4, 4, 'small', 'medium', 'large'),\n(5, 5, NULL, 'warm', 'hot'),\n(6, 6, 'monday', 'tuesday', 'wednesday'),\n(7, 7, 'one', 'two', 'three'),\n(8, 0, 'hello', 'world', NULL),\n(9, -2, 'test1', 'test2', 'test3'),\n(10, -3, '\u6C7D\u8F66', '\u81EA\u884C\u8F66', '\u706B\u8F66'),\n(11, NULL, 'a', 'b', 'c'),\n(12, 7, NULL, NULL, NULL),\n(13, 3, '', 'should after ,', 'useless');\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"SELECT id, MAKE_SET(bit_num, vc1, vc2, vc3) FROM test_make_set;\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-text",children:"+------+----------------------------------+\n| id   | MAKE_SET(bit_num, vc1, vc2, vc3) |\n+------+----------------------------------+\n|    1 | apple                            |\n|    2 | blue                             |\n|    3 | dog,cat                          |\n|    4 | large                            |\n|    5 | hot                              |\n|    6 | tuesday,wednesday                |\n|    7 | one,two,three                    |\n|    8 |                                  |\n|    9 | test2,test3                      |\n|   10 | \u6C7D\u8F66,\u706B\u8F66                        |\n|   11 | NULL                             |\n|   12 |                                  |\n|   13 | ,should after ,                  |\n+------+----------------------------------+\n"})}),"\n",(0,i.jsx)(n.p,{children:"Explanation:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["When id == 3, its bit_num == 3, which is represented as 011 in binary. The 0th and 1st bits are 1, representing the parameters str1 and str2 respectively. Therefore, str1 and str2 are used to construct the final result, with str1 and str2 separated by a comma. The final answer can be represented as ",(0,i.jsx)(n.code,{children:"${str1},${str2}"}),", which is ",(0,i.jsx)(n.code,{children:"dog,cat"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["When id == 5, its bit_num == 5, which is represented as 101 in binary. The 0th and 2nd bits are 1, representing the parameters str1 and str3 respectively. Since str1 is NULL and does not participate in the final result, the final result can be represented as ",(0,i.jsx)(n.code,{children:"${str3}"}),", which is ",(0,i.jsx)(n.code,{children:"hot"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["When id == 13, its bit_num == 3, which is represented as 011 in binary. Therefore, str1 and str2 are used to construct the final result, represented as ",(0,i.jsx)(n.code,{children:"${str1},${str2}"}),". Since str1 is an empty string, the final result can be simplified to ",(0,i.jsx)(n.code,{children:",${str2}"})," which is ",(0,i.jsx)(n.code,{children:",should after ,"}),"."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"bit"})," parameter is constrained to integers from 2^64 to 2^64-1 (BIGINT), and out-of-bound behavior is reported as follows:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-text",children:"mysql> SELECT MAKE_SET(184467440737095516156, 'a', 'b', 'c');\nERROR 1105 (HY000): errCode = 2, detailMessage = Can not find the compatibility function signature: make_set(LARGEINT, VARCHAR(1), VARCHAR(1), VARCHAR(1))\n"})})]})}function h(e={}){let{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},250065:function(e,n,t){t.d(n,{Z:function(){return c},a:function(){return a}});var s=t(667294);let i={},r=s.createContext(i);function a(e){let n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);
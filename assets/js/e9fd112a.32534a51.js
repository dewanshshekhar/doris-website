"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["954287"],{582955:function(n,e,t){t.r(e),t.d(e,{default:()=>u,frontMatter:()=>a,metadata:()=>s,assets:()=>c,toc:()=>o,contentTitle:()=>l});var s=JSON.parse('{"id":"sql-manual/sql-functions/scalar-functions/string-functions/soundex","title":"SOUNDEX","description":"Description","source":"@site/docs/sql-manual/sql-functions/scalar-functions/string-functions/soundex.md","sourceDirName":"sql-manual/sql-functions/scalar-functions/string-functions","slug":"/sql-manual/sql-functions/scalar-functions/string-functions/soundex","permalink":"/docs/dev/sql-manual/sql-functions/scalar-functions/string-functions/soundex","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"SOUNDEX","language":"en"},"sidebar":"docs","previous":{"title":"RTRIM_IN","permalink":"/docs/dev/sql-manual/sql-functions/scalar-functions/string-functions/rtrim-in"},"next":{"title":"STRLEFT","permalink":"/docs/dev/sql-manual/sql-functions/scalar-functions/string-functions/strleft"}}'),r=t("785893"),i=t("250065");let a={title:"SOUNDEX",language:"en"},l=void 0,c={},o=[{value:"Description",id:"description",level:2},{value:"Syntax",id:"syntax",level:2},{value:"Arguments",id:"arguments",level:2},{value:"Return Value",id:"return-value",level:2},{value:"Examples",id:"examples",level:2}];function d(n){let e={a:"a",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.a)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.h2,{id:"description",children:"Description"}),"\n",(0,r.jsxs)(e.p,{children:["The SOUNDEX function computes the ",(0,r.jsx)(e.a,{href:"https://en.wikipedia.org/wiki/Soundex",children:"American Soundex"})," value, which consists of the first letter followed by a three-digit sound code that represents the English pronunciation of the input string."]}),"\n",(0,r.jsx)(e.p,{children:"The function ignores all non-letter characters in the string."}),"\n",(0,r.jsx)(e.h2,{id:"syntax",children:"Syntax"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"SOUNDEX ( <expr> )\n"})}),"\n",(0,r.jsx)(e.h2,{id:"arguments",children:"Arguments"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(e.table,{children:[(0,r.jsx)(e.thead,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.th,{children:"Argument"}),(0,r.jsx)(e.th,{children:"Description"})]})}),(0,r.jsx)(e.tbody,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.code,{children:"<expr>"})}),(0,r.jsx)(e.td,{children:"The string to compute for, only accept ASCII characters."})]})})]}),"\n",(0,r.jsx)(e.h2,{id:"return-value",children:"Return Value"}),"\n",(0,r.jsx)(e.p,{children:"Returns a VARCHAR(4) string consisting of an uppercase letter followed by a three-digit numeric sound code representing English pronunciation."}),"\n",(0,r.jsx)(e.p,{children:"If the string is empty or contains no letter characters, an empty string is returned."}),"\n",(0,r.jsx)(e.p,{children:"If the string to be processed contains non-ASCII characters, the function will throw an exception during the calculation process."}),"\n",(0,r.jsx)(e.p,{children:"If the input is NULL, NULL is returned."}),"\n",(0,r.jsx)(e.h2,{id:"examples",children:"Examples"}),"\n",(0,r.jsx)(e.p,{children:"The following table simulates a list of names."}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"CREATE TABLE IF NOT EXISTS soundex_test (\n     name VARCHAR(20)\n) DISTRIBUTED BY HASH(name) BUCKETS 1\nPROPERTIES (\"replication_num\" = \"1\"); \n\nINSERT INTO soundex_test (name) VALUES\n('Doris'),\n('Smith'), ('Smyth'),\n('H'), ('P'), ('Lee'), \n('Robert'), ('R@b-e123rt'),\n('123@*%'), (''),\n('Ashcraft'), ('Honeyman'), ('Pfister'), (NULL);\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"SELECT name, soundex(name) AS IDX FROM soundex_test;\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-text",children:"+------------+------+\n| NULL       | NULL |\n|            |      |\n| 123@*%     |      |\n| Ashcraft   | A261 |\n| Doris      | D620 |\n| H          | H000 |\n| Honeyman   | H555 |\n| Lee        | L000 |\n| P          | P000 |\n| Pfister    | P236 |\n| R@b-e123rt | R163 |\n| Robert     | R163 |\n| Smith      | S530 |\n| Smyth      | S530 |\n+------------+------+\n"})}),"\n",(0,r.jsx)(e.p,{children:"Behavior for non-ASCII characters:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"When Doris processes the input string character by character, if it encounters a non-ASCII character before finishing the computation, it will throw an error. Example:"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"SELECT SOUNDEX('\u4F60\u597D');\n-- ERROR 1105 (HY000): errCode = 2, detailMessage = (127.0.0.1)[INVALID_ARGUMENT]soundex only supports ASCII\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"-- After processing `Doris` it produces D62 (still missing one digit, not a complete 4-character code)\n-- When it reads the non-ASCII character `\u4F60`, the function errors\nSELECT SOUNDEX('Doris \u4F60\u597D');\n-- ERROR 1105 (HY000): errCode = 2, detailMessage = (127.0.0.1)[INVALID_ARGUMENT]soundex only supports ASCII\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"SELECT SOUNDEX('Apache Doris \u4F60\u597D');\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-text",children:"+--------------------------------+\n| SOUNDEX('Apache Doris \u4F60\u597D')   |\n+--------------------------------+\n| A123                           |\n+--------------------------------+\n"})})]})}function u(n={}){let{wrapper:e}={...(0,i.a)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(d,{...n})}):d(n)}},250065:function(n,e,t){t.d(e,{Z:function(){return l},a:function(){return a}});var s=t(667294);let r={},i=s.createContext(r);function a(n){let e=s.useContext(i);return s.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:a(n.components),s.createElement(i.Provider,{value:e},n.children)}}}]);